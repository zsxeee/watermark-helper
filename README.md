# 水印助手
给证件图打水印是一个必要的习惯，奈何每次都要用PS这把大刀来搞。考虑隐私问题，一堆一个个都要联网，所以就随便写了这个工具。

## 需求
一个启用了JavaScript的现代浏览器，不需要联网。

## 使用
- HTML文件

    直接用浏览器打开[watermark-helper.html](watermark-helper.html) 或 [watermark-helper.min.html](watermark-helper.min.html)（压缩版）即可。

- DataLink **推荐**
    
    使用浏览器打开[data-link.txt](data-link.txt)文件中的链接或直接点击[此链接](data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz16aD48aGVhZD48bWV0YSBjaGFyc2V0PVVURi04Pjx0aXRsZT7msLTljbDliqnmiYs8L3RpdGxlPjxtZXRhIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiIG5hbWU9dmlld3BvcnQ+PHN0eWxlPmJvZHl7bWFyZ2luOmF1dG87bWF4LXdpZHRoOjYwdmh9aW1ne2JvcmRlcjozcHggc29saWQgIzJjM2U1MDtib3JkZXItcmFkaXVzOjVweDt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveH1jYW52YXN7d2lkdGg6MTAwJTtoZWlnaHQ6MH1hLGxhYmVse2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLXRvcDo4cHh9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PGNhbnZhcz48L2NhbnZhcz48ZGl2PjxpbnB1dCBpZD11cGxvYWQtaW5wdXQgdHlwZT1maWxlIGFjY2VwdD1pbWFnZS8qPjxsYWJlbD7msLTljbDmloflrZfvvJogPGlucHV0IGlkPWNvbnRlbnQgdHlwZT10ZXh0IHZhbHVlPeS7heS+m1hY5a6e5ZCN6K6k6K+B5L2/55SoPjwvbGFiZWw+PGxhYmVsPuawtOWNsOminOiJsu+8miA8aW5wdXQgaWQ9Y29sb3IgdHlwZT1jb2xvciB2YWx1ZT0jZmZmZmZmPjwvbGFiZWw+PGxhYmVsPuS4jemAj+aYjuW6pu+8miA8aW5wdXQgaWQ9YWxwaGEgdHlwZT1yYW5nZSB2YWx1ZT01MCBtYXg9MTAwIG1pbj0xMD48L2xhYmVsPjxsYWJlbD7msLTljbDlpKflsI/mr5TvvJogPGlucHV0IGlkPXNpemUgdHlwZT1yYW5nZSB2YWx1ZT01IG1heD0xMCBtaW49Mz48L2xhYmVsPjxsYWJlbD7msLTljbDpl7TpmpTmr5TvvJogPGlucHV0IGlkPWdhcCB0eXBlPXJhbmdlIHZhbHVlPTE1MCBtYXg9MzAwIG1pbj0yMD48L2xhYmVsPjxsYWJlbD7msLTljbDlrZfkvZPvvJogPGlucHV0IGlkPWZvbnQgdHlwZT10ZXh0IHZhbHVlPXNhbnMtc2VyaWY+PC9sYWJlbD48YSBkb3dubG9hZCBocmVmPSJqYXZhc2NyaXB0OmFsZXJ0KCfor7flhYjmiZPlvIDlm77niYcnKSI+5L+d5a2Y5Zu+54mHPC9hPjwvZGl2PjxzY3JpcHQ+dmFyIGltZz1udWxsO2Z1bmN0aW9uIHJlcGFpbnQoKXtpZihpbWcpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjYW52YXMiKVswXS5nZXRDb250ZXh0KCIyZCIpLHQ9KGUuY2FudmFzLndpZHRoPWltZy53aWR0aCxlLmNhbnZhcy5oZWlnaHQ9aW1nLmhlaWdodCxNYXRoLm1heChpbWcuaGVpZ2h0LGltZy53aWR0aCkpLGE9KGUuY2FudmFzLnN0eWxlLmhlaWdodD1pbWcuaGVpZ2h0L2ltZy53aWR0aCoxMDArIiUiLGUucmVzdG9yZSgpLGUuZHJhd0ltYWdlKGltZywwLDApLGUuZmlsbFN0eWxlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2xvciIpLnZhbHVlLGUuZ2xvYmFsQWxwaGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFscGhhIikudmFsdWUvMTAwLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzaXplIikudmFsdWUqdC8xMDApLG49KGUuZm9udD1hKydweCAiJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9udCIpLnZhbHVlKyciJyxlLnRleHRCYXNlbGluZT0ibWlkZGxlIixlLnJvdGF0ZSgtNDUqTWF0aC5QSS8xODApLGEqZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhcCIpLnZhbHVlLzEwMCksaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udGVudCIpLnZhbHVlO2lmKGkubGVuZ3RoKXtmb3IodmFyIG09TWF0aC5zcXJ0KHQqdCoyKSxsPWUubWVhc3VyZVRleHQoaSkud2lkdGgsZz0tdCxkPSExO2c8PW07Zys9YStuLGQ9IWQpZm9yKHZhciBvPS10LShkP2wvMjowKTtvPD1tKyhkP2wvMjowKTtvKz1sK2EpZS5maWxsVGV4dChpLG8sZyk7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXS5ocmVmPWUuY2FudmFzLnRvRGF0YVVSTCgpfX19ZnVuY3Rpb24gY3JlYXRlQml0bWFwKGUsdCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe3QodGhpcyl9KSxhLnNyYz1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpfWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZnVuY3Rpb24oZSl7ImZpbGUiPT09ZS50YXJnZXQudHlwZT9lLnRhcmdldC5maWxlcy5sZW5ndGgmJihjcmVhdGVCaXRtYXAoZT1lLnRhcmdldC5maWxlc1swXSxmdW5jdGlvbihlKXtpbWc9ZSxyZXBhaW50KCl9KSwoZT1lLm5hbWUuc3BsaXQoIi4iKSkuc3BsaWNlKC0xLDAsIndhdGVybWFya2VkIiksZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXS5kb3dubG9hZD1lLmpvaW4oIi4iKSk6cmVwYWludCgpfSk8L3NjcmlwdD48L2JvZHk+PC9odG1sPg==)即可，此链接直接包含了整个网页文件，可添加到收藏夹云同步等。
    > 请注意部分国产浏览器不支持这么长的链接，如果出现网页显示不全或操作无反应的话，请换用上一种方法。
    
## 额外说明
- 水印大小比：根据图片的大小缩放字体的比例（3%~10%）
- 水印间隔比：根据字体大小缩放两行水印间距的比例（20%~300%）

## 构建
如果有自行修改的需求，请直接修改 `./watermark-helper.html` 文件，然后运行 `./index.js` 将会自动根据修改生成其他文件。

```bash
npm install
node .
```
